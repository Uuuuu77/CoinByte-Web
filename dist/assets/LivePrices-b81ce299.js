import{r as c,j as e}from"./index-ae282d23.js";import{G as w}from"./GlobeAltIcon-0b206887.js";function N({title:r,titleId:a,...n},s){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),r?c.createElement("title",{id:a},r):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const v=c.forwardRef(N),C=v,p={baseUrl:"https://api.coingecko.com/api/v3/simple/price",defaultIds:["bitcoin","ethereum","solana","tether","usd-coin","binancecoin","cardano","ripple","celo","stellar","celo-dollar"],vsCurrency:"usd",cacheTTL:3e4,retryConfig:{maxAttempts:3,baseDelay:500,maxDelay:3e3},headers:{Accept:"application/json","Content-Type":"application/json","User-Agent":"CoinByte-Web/2.0 (African Markets)"}},j={bitcoin:{name:"Bitcoin",symbol:"BTC",type:"crypto",region:"global"},ethereum:{name:"Ethereum",symbol:"ETH",type:"crypto",region:"global"},tether:{name:"Tether",symbol:"USDT",type:"stablecoin",region:"global"},"usd-coin":{name:"USD Coin",symbol:"USDC",type:"stablecoin",region:"global"},solana:{name:"Solana",symbol:"SOL",type:"crypto",region:"global"},celo:{name:"Celo",symbol:"CELO",type:"crypto",region:"africa"},"celo-dollar":{name:"cUSD",symbol:"cUSD",type:"stablecoin",region:"africa"},binancecoin:{name:"BNB",symbol:"BNB",type:"crypto",region:"global"},ripple:{name:"XRP",symbol:"XRP",type:"crypto",region:"global"},stellar:{name:"Stellar",symbol:"XLM",type:"crypto",region:"africa"}};let l={data:null,timestamp:0,etag:null,regionStats:{africa:{lastUpdated:0,count:0},global:{lastUpdated:0,count:0}}};async function D(r={}){if(l.data&&Date.now()-l.timestamp<p.cacheTTL)return l.data;const n={ids:r.ids||p.defaultIds.join(","),vs_currencies:p.vsCurrency,include_24hr_change:!0,include_last_updated_at:!0,precision:"4"},s=new URL(p.baseUrl);Object.entries(n).forEach(([d,y])=>{s.searchParams.append(d,y)});const g=new Headers(p.headers);l.etag&&g.set("If-None-Match",l.etag);let o,m=0;const{maxAttempts:f,baseDelay:h,maxDelay:b}=p.retryConfig;for(;m<f;)try{if(o=await fetch(s,{headers:g}),o.status===304)return l.timestamp=Date.now(),l.data;if(o.ok)break}catch(d){if(++m===f)throw d;const y=Math.min(h*2**m,b);await new Promise(u=>setTimeout(u,y))}if(!o.ok)throw new Error(`API request failed: ${o.status}`);const t=o.headers.get("ETag"),i=await o.json(),x={africa:0,global:0};return Object.keys(i).forEach(d=>{var u;const y=((u=j[d])==null?void 0:u.region)||"global";x[y]++}),l={data:i,timestamp:Date.now(),etag:t,regionStats:{africa:{lastUpdated:Date.now(),count:x.africa},global:{lastUpdated:Date.now(),count:x.global}}},i}function S(r){return!r||typeof r!="object"?[]:Object.entries(r).map(([a,n])=>{const s=j[a]||{name:a.toUpperCase(),symbol:a.slice(0,4).toUpperCase(),type:"crypto",region:"global"};return{id:a,region:s.region,name:s.name,symbol:s.symbol,type:s.type,price:n[p.vsCurrency]||0,change:n[`${p.vsCurrency}_24h_change`]||0,lastUpdated:n.last_updated_at||Date.now()}}).sort((a,n)=>a.type==="stablecoin"&&n.type!=="stablecoin"?-1:n.type==="stablecoin"&&a.type!=="stablecoin"?1:n.region.localeCompare(a.region))}window.formatPrice=function(r,a="USD",n="en-US"){const s={style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:4};return a==="NGN"&&(s.maximumFractionDigits=2),a==="KES"&&(s.maximumFractionDigits=2),a==="GHS"&&(s.maximumFractionDigits=2),new Intl.NumberFormat(n,s).format(r)};window.refreshCryptoData=function(){l={...l,data:null,timestamp:0,etag:null}};window.reportError=function(r,a="api"){console.error(`[CoinByte Error] ${a}:`,r),typeof window.trackJs<"u"&&window.trackJs.track(r)};const U=[{from:"San Francisco",to:"Nairobi",time:"12 seconds",fee:"$0.05",flag:"ðŸ‡ºðŸ‡¸ â†’ ðŸ‡°ðŸ‡ª"},{from:"London",to:"Mumbai",time:"18 seconds",fee:"$0.07",flag:"ðŸ‡¬ðŸ‡§ â†’ ðŸ‡®ðŸ‡³"},{from:"SÃ£o Paulo",to:"Manila",time:"22 seconds",fee:"$0.09",flag:"ðŸ‡§ðŸ‡· â†’ ðŸ‡µðŸ‡­"}],E=()=>{const[r,a]=c.useState([]),[n,s]=c.useState(!0),[g,o]=c.useState(null),[m,f]=c.useState(!0),h=async()=>{try{s(!0);const t=await D();a(S(t)),o(null)}catch{o("Failed to fetch prices. Please try again.")}finally{s(!1)}};c.useEffect(()=>{h();const t=setInterval(h,3e4);return()=>clearInterval(t)},[]);const b=m?r.filter(t=>["USDC","USDT","CUSD","PYUSD","DAI"].includes(t.symbol.toUpperCase())):r;return e.jsx("section",{id:"prices",className:"py-24 bg-gradient-to-b from-primary-black to-primary-950",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-orange to-primary-gold bg-clip-text text-transparent mb-4",children:"Live Global Markets"}),e.jsx("p",{className:"text-xl text-secondary-light max-w-2xl mx-auto mb-8",children:"Real-time cryptocurrency prices and stablecoin payment corridors across emerging markets"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[e.jsx("span",{className:"text-secondary-light text-sm",children:"All Coins"}),e.jsx("button",{onClick:()=>f(!m),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m?"bg-primary-orange":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:"text-secondary-light text-sm",children:"Stablecoins Only"})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center justify-center gap-2",children:[e.jsx(w,{className:"w-6 h-6 text-primary-orange"}),"Global Payment Corridors"]}),e.jsx("p",{className:"text-secondary-light/80 max-w-xl mx-auto",children:"Instant cross-border stablecoin transfers with transparent fees"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:U.map((t,i)=>e.jsxs("div",{className:"card p-6 text-center border-primary-orange/20 hover:border-primary-orange/40",children:[e.jsx("div",{className:"text-2xl mb-3",children:t.flag}),e.jsxs("h4",{className:"font-semibold text-white mb-2",children:[t.from," â†’ ",t.to]}),e.jsxs("div",{className:"space-y-1 text-sm text-secondary-light/90",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Settlement:"}),e.jsx("span",{className:"text-green-400",children:t.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Fee:"}),e.jsx("span",{className:"text-primary-orange",children:t.fee})]})]})]},i))})]}),n?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-pulse",children:[...Array(6)].map((t,i)=>e.jsx("div",{className:"h-20 bg-secondary-gray rounded-xl"},i))}):g?e.jsxs("div",{className:"text-center py-8 space-y-4",children:[e.jsx("p",{className:"text-red-500",children:g}),e.jsxs("button",{onClick:h,className:"button-primary flex items-center gap-2 mx-auto",children:[e.jsx(C,{className:"w-5 h-5"}),"Retry"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(t=>{var i,x,d;return e.jsx("div",{className:"card hover:border-primary-orange/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[t.symbol,t.region==="africa"&&e.jsx("span",{className:"ml-2 text-xs bg-primary-gold/20 text-primary-gold px-2 py-1 rounded-full",children:"ðŸŒ Global"}),["USDC","USDT","CUSD","PYUSD","DAI"].includes((i=t.symbol)==null?void 0:i.toUpperCase())&&e.jsx("span",{className:"ml-2 text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full",children:"Stablecoin"})]}),e.jsx("p",{className:"text-sm text-secondary-light",children:t.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-medium",children:window.formatPrice?window.formatPrice(t.price):`$${((x=t.price)==null?void 0:x.toFixed(2))||"0.00"}`}),e.jsxs("p",{className:`text-sm ${t.change>=0?"text-green-500":"text-red-500"}`,children:[t.change>=0?"+":"",((d=t.change)==null?void 0:d.toFixed(2))||"0.00","%"]})]})]})},t.id)})})]})})};export{E as default};
//# sourceMappingURL=LivePrices-b81ce299.js.map
