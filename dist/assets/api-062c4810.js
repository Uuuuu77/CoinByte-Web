import{r as i}from"./index-77b6e3fc.js";function u({title:t,titleId:e,...a},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},a),t?i.createElement("title",{id:e},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const d=i.forwardRef(u),w=d,o={baseUrl:"https://api.coingecko.com/api/v3/simple/price",defaultIds:["bitcoin","ethereum","solana","tether","usd-coin","binancecoin","cardano","ripple","celo","stellar","celo-dollar"],vsCurrency:"usd",cacheTTL:5e3,retryCount:3,retryDelay:500,headers:{Accept:"application/json","Content-Type":"application/json"}},h={bitcoin:{name:"Bitcoin",symbol:"BTC",type:"crypto"},ethereum:{name:"Ethereum",symbol:"ETH",type:"crypto"},tether:{name:"Tether",symbol:"USDT",type:"stablecoin"},"usd-coin":{name:"USD Coin",symbol:"USDC",type:"stablecoin"},solana:{name:"Solana",symbol:"SOL",type:"crypto"},celo:{name:"Celo",symbol:"CELO",type:"crypto"},"celo-dollar":{name:"cUSD",symbol:"cUSD",type:"stablecoin"},binancecoin:{name:"BNB",symbol:"BNB",type:"crypto"},ripple:{name:"XRP",symbol:"XRP",type:"crypto"},stellar:{name:"Stellar",symbol:"XLM",type:"crypto"}};let r={data:null,timestamp:0,etag:null};async function b(t={}){try{if(r.data&&Date.now()-r.timestamp<o.cacheTTL)return r.data;const e={ids:t.ids||o.defaultIds.join(","),vs_currencies:o.vsCurrency,include_24hr_change:!0,include_last_updated_at:!0},a=new URL(o.baseUrl);Object.entries(e).forEach(([s,l])=>{a.searchParams.append(s,l)});const n=new Headers(o.headers);r.etag&&n.append("If-None-Match",r.etag);let c;for(let s=0;s<o.retryCount;s++)try{if(c=await fetch(a,{headers:n}),c.status===304)return r.timestamp=Date.now(),r.data;if(c.ok)break}catch(l){if(s===o.retryCount-1)throw l;await new Promise(y=>setTimeout(y,o.retryDelay))}if(!c.ok)throw new Error(`API request failed: ${c.status}`);const m=c.headers.get("ETag"),p=await c.json();return r={data:p,timestamp:Date.now(),etag:m},p}catch(e){throw reportError(e,"fetchCryptoData"),e}}function C(t){try{if(!t||typeof t!="object")throw new Error("Invalid data format");return Object.entries(t).map(([e,a])=>{const n=h[e]||{name:e.toUpperCase(),symbol:e.slice(0,4).toUpperCase(),type:"crypto"};return{id:e,name:n.name,symbol:n.symbol,type:n.type,price:a[o.vsCurrency]||0,change:a[`${o.vsCurrency}_24h_change`]||0,lastUpdated:a.last_updated_at||Date.now()}}).sort((e,a)=>e.type==="stablecoin"&&a.type!=="stablecoin"?-1:a.type==="stablecoin"&&e.type!=="stablecoin"?1:0)}catch(e){return reportError(e,"formatCryptoData"),[]}}window.formatPrice=function(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:4}).format(t)};window.convertToLocalCurrency=function(t,e){return t*1};window.reportError=function(t,e="api"){console.error(`[CoinByte API Error] ${e}:`,t)};window.refreshCryptoData=function(){r={data:null,timestamp:0,etag:null}};window.getCacheStatus=function(){return{age:Date.now()-r.timestamp,size:r.data?Object.keys(r.data).length:0}};export{w as A,C as a,b as f};
//# sourceMappingURL=api-062c4810.js.map
